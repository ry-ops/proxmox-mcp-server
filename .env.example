# ========================================
# Proxmox MCP Server Configuration
# ========================================
# Copy this file to .env and fill in your actual values
# Never commit .env with real credentials to version control!

# ========================================
# Required Settings
# ========================================

# Proxmox server hostname or IP address
# Examples: 192.168.1.100, proxmox.local, pve.example.com
PROXMOX_HOST=192.168.1.100

# Username with realm (format: user@realm)
# Common realms: pam (Linux PAM), pve (Proxmox VE)
# Examples: root@pam, admin@pve, user@pam
PROXMOX_USER=root@pam

# ========================================
# Optional Settings
# ========================================

# API port (default: 8006)
# Only change if you've configured a custom port
PROXMOX_PORT=8006

# ========================================
# Authentication Method (Choose ONE)
# ========================================

# Option 1: API Token Authentication (RECOMMENDED)
# ------------------------------------------------
# More secure: tokens can be revoked without changing passwords
# To create a token:
#   1. Login to Proxmox web UI
#   2. Go to: Datacenter → Permissions → API Tokens
#   3. Click "Add" and create token
#   4. UNCHECK "Privilege Separation"
#   5. Copy the token name and secret

# Token name (created in Proxmox UI)
PROXMOX_TOKEN_NAME=automation

# Token secret (shown only once when created)
PROXMOX_TOKEN_VALUE=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Option 2: Password Authentication (ALTERNATIVE)
# -----------------------------------------------
# Less secure: use only for testing or if tokens are not available
# Comment out or remove token settings above if using password

# PROXMOX_PASSWORD=your-secure-password-here

# ========================================
# Security Settings
# ========================================

# Verify SSL certificates (default: false)
# Set to "true" in production with valid SSL certificates
# Set to "false" for self-signed certificates or testing
PROXMOX_VERIFY_SSL=false

# ========================================
# Usage Notes
# ========================================
# 
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Edit .env with your values:
#    nano .env  # or use your preferred editor
#
# 3. Test your connection:
#    ./test-connection.sh
#
# 4. Never commit .env to git (it's in .gitignore)
#
# 5. For production:
#    - Use API tokens (not passwords)
#    - Set PROXMOX_VERIFY_SSL=true
#    - Use strong, unique token names
#    - Rotate tokens regularly
#    - Grant minimal required permissions
#
# ========================================
# Troubleshooting
# ========================================
#
# Authentication failed?
#   - Check username format includes realm (user@pam)
#   - Verify token hasn't expired
#   - Ensure "Privilege Separation" was unchecked
#
# Connection refused?
#   - Verify PROXMOX_HOST is correct
#   - Check port 8006 is accessible
#   - Test: curl -k https://YOUR_HOST:8006/api2/json/version
#
# Permission denied?
#   - User/token needs appropriate permissions
#   - Required: VM.Monitor, VM.Audit, Datastore.Audit, Sys.Audit
#
# For more help:
#   https://github.com/ry-ops/proxmox-mcp-server#readme
#
# ========================================
